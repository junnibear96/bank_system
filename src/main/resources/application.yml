server:
  port: ${PORT:8080}

spring:
  datasource:
    # Try fully qualified URLs first, then build from components (common Railway pattern)
    url: ${MYSQL_URL:${DATABASE_URL:jdbc:mariadb://${MYSQLHOST:localhost}:${MYSQLPORT:3307}/${MYSQLDATABASE:finance_app}}}
    username: ${MYSQL_USER:${MYSQLUSER:finance_user}}
    password: ${MYSQL_PASSWORD:${MYSQLPASSWORD:password1234}}
    driver-class-name: org.mariadb.jdbc.Driver
  jpa:
    database-platform: org.hibernate.dialect.MariaDBDialect
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        # Explicitly set dialect to avoid "Unable to determine Dialect" error when connection fails
        dialect: org.hibernate.dialect.MariaDBDialect
        format_sql: true
